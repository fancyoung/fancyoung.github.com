
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>没有标题的博客</title>
  <meta name="author" content="思扬">

  
  <meta name="description" content="执行：$ rake new_post["arch-linux-reinstall-glibc.markdown"] 报错：zsh: no matches found: new_post[arch-linux-reinstall-glibc] 原因：zsh中若出现‘*’, ‘(’, ‘|’, ‘& &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://fancyoung.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="没有标题的博客" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1694311-5']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">没有标题的博客</a></h1>
  
    <h2>记录与分享</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:fancyoung.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">关于我</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/use-octopress-new-post-function-with-zsh/">Octopress在zsh下无法新建博客的问题</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-12T16:50:00+00:00" pubdate data-updated="true">Aug 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>执行：<code>$ rake new_post["arch-linux-reinstall-glibc.markdown"]</code></p>

<p>报错：<code>zsh: no matches found: new_post[arch-linux-reinstall-glibc]</code></p>

<p>原因：zsh中若出现‘*’, ‘(’, ‘|’, ‘&lt;’, ‘[’, or ‘?’符号，则将其识别为查找文件名的通配符</p>

<p>快速解决：用引号括起来<code>$ rake "new_post[arch-linux-reinstall-glibc.markdown]"</code></p>

<p>彻底解决：取消zsh的通配(GLOB),
在<code>.zshrc</code>中加入<code>alias rake="noglob rake"</code></p>

<hr />

<p>PS：在git回滚操作<code>git reset --soft HEAD^</code>时出现报错：
<code>zsh: no matches found HEAD^</code>，</p>

<p>也为同样原因，因为<code>^</code>也为正则中的符号，
需要转义为<code>git reset --soft HEAD\^</code>。</p>

<h2>参考</h2>

<p><a href="https://github.com/imathis/octopress/issues/117">Not compatible with Zsh</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/arch-linux-reinstall-glibc/">Arch升级失败后修复glibc记录</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-10T00:27:00+00:00" pubdate data-updated="true">Aug 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>起因</h2>

<p><code>$ pacman -Syu</code>时提示错误，
因为Arch前段时间将<code>/lib</code>目录链到了<code>/usr/lib</code>，
见公告<a href="http://www.archlinux.org/news/the-lib-directory-becomes-a-symlink/">The /lib directory becomes a symlink</a>。
当时没有看到这篇公告，而在网上搜到某贴说使用<code>--force</code>参数，
结果执行完后系统挂掉，因<code>glibc</code>不存在，所有命令行不可使用。</p>

<h2>解决方法</h2>

<ul>
<li>从光盘启动Arch。</li>
<li><code>$ fdisk -l</code>查看磁盘状态，
我的系统分区为<code>/dev/sda6</code>。</li>
<li>创建目录：<code>$ mkdir /root/tmp_disk</code>。</li>
<li>mount分区，我机子上是：<code>$ mount /dev/sda6 /root/tmp_disk</code>。</li>
<li>下载<a href="http://www.archlinux.org/packages/?q=glibc">相应的</a><code>glibc</code>安装包（网络或U盘，配置网络参考下面相关部分）,
我的为<a href="http://www.archlinux.org/packages/core/x86_64/glibc/">x86_64 v2.16.0-2</a>，
所以<code>wget http://www.archlinux.org/packages/core/x86_64/glibc/download/</code></li>
<li>安装<code>pacman -U glibc-2.16.0-2-x86_64.pkg.tar.xz -r /root/tmp_disk</code></li>
<li><code>pacman -Su</code></li>
</ul>


<h4>注意</h4>

<h2>其它</h2>

<h4>配置网络</h4>

<p>用启动光盘进入系统后，需要配置网络来下载最新glibc。
配置<code>/etc/rc.conf</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>interface=eth0
</span><span class='line'>address=192.168.0.2
</span><span class='line'>netmask=255.255.255.0
</span><span class='line'>gateway=192.168.22.1</span></code></pre></td></tr></table></div></figure>


<p>配置<code>/etc/resolv.conf</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>nameserver 8.8.8.8</span></code></pre></td></tr></table></div></figure>


<p>最后重启网络服务<code>$ /etc/rc.d/network restart</code></p>

<h4>目录</h4>

<p><code>/lib</code>、<code>/lib64</code>皆应软链到<code>/usr/lib</code>目录。
在修复过程中查看<code>/lib</code>发现里面只有一个<code>modules</code>目录，
将其移至<code>/usr/lib</code>里后建立软链。
系统正常运行，但之后执行<code>pacman</code>后无法升级。
移除<code>/usr/lib/modules</code>目录后<code>$ pacman -Su</code>解决问题。</p>

<h4>时间错误的解决</h4>

<p>遇到报错</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>******************* FILESYSTEM CHECK FAILED *************
</span><span class='line'>* Please repair manually and reboot. Note that the root *
</span><span class='line'>* filesystem is currently mounted read-only. To remount *
</span><span class='line'>* it read-write type: mount -n -o remount,rw / *
</span><span class='line'>* When you exit the mantenance shel the system will *
</span><span class='line'>* reboot automatically. *
</span><span class='line'>*********************************************************</span></code></pre></td></tr></table></div></figure>


<p>因为BIOS时间设置有问题。</p>

<h2>参考</h2>

<p><a href="https://bbs.archlinux.org/viewtopic.php?id=142459">bug修复方案：How to re-install glibc?</a></p>

<p><a href="https://wiki.archlinux.org/index.php/Configuring_Network">Arch网络配置：Configuring Network</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tmux-study/">Tmux使用</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-12T15:29:00+00:00" pubdate data-updated="true">Jul 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>快捷键</h2>

<p><code>C-b</code>激活控制台，然后输入下面命令</p>

<h4>系统</h4>

<table>
<thead>
<tr>
<th>快捷键   </th>
<th> 功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>?       </td>
<td> 快捷键帮助</td>
</tr>
<tr>
<td>[       </td>
<td> 进入视图模式</td>
</tr>
</tbody>
</table>


<h4>窗口</h4>

<table>
<thead>
<tr>
<th>快捷键   </th>
<th> 功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>c       </td>
<td> 新建窗口</td>
</tr>
<tr>
<td>l       </td>
<td> 前一个窗口</td>
</tr>
<tr>
<td>n/p     </td>
<td> 下/上一个窗口</td>
</tr>
<tr>
<td>数字     </td>
<td> 跳到相应窗口</td>
</tr>
<tr>
<td>w       </td>
<td> 列出所有窗口</td>
</tr>
<tr>
<td>,       </td>
<td> 重命名当前窗口</td>
</tr>
<tr>
<td>&amp;       </td>
<td> 关闭窗口</td>
</tr>
<tr>
<td>f       </td>
<td> 查找</td>
</tr>
</tbody>
</table>


<h4>面板</h4>

<table>
<thead>
<tr>
<th>快捷键   </th>
<th> 功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ldquo;/%     </td>
<td> 上下/左右分割面板</td>
</tr>
<tr>
<td>x       </td>
<td> 关闭当前面板</td>
</tr>
<tr>
<td>!       </td>
<td> 关闭除当前面板外的其它面板</td>
</tr>
<tr>
<td>o       </td>
<td> 移到下一面板</td>
</tr>
<tr>
<td>q       </td>
<td> 显示面板编号，当时输入数字可跳到相应面板</td>
</tr>
<tr>
<td>C-方向   </td>
<td> 调节面板尺寸</td>
</tr>
<tr>
<td>{/}     </td>
<td> 调节当前面板顺序</td>
</tr>
</tbody>
</table>


<h2>配置</h2>

<p><code>~/.tmux.conf</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#将键绑定与Emacs相同
</span><span class='line'>unbind C-b
</span><span class='line'>set -g prefix C-x</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/emacs-tramp-hangs-bug-in-zsh/">解决Emacs远程连接时卡住的bug</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-04T00:14:00+00:00" pubdate data-updated="true">Jul 4<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>前几天终于买了Linode的VPS，配置过程中遇见一个灵异问题：<br/>
Emacs无法远程SSH编辑文件，状态一直卡在<code>Tramp: Waiting for prompts from remote shell</code>。</p>

<p>折腾了好久，终于定位到zsh的配置oh-my-zsh上。<br/>
最后查到原来Emacs Wiki上已经有解决方案，在<code>.zshrc</code>底部加上：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if [[ "$TERM" == "dumb" ]]
</span><span class='line'>then
</span><span class='line'>  unsetopt zle
</span><span class='line'>  unsetopt prompt_cr
</span><span class='line'>  unsetopt prompt_subst
</span><span class='line'>  unfunction precmd
</span><span class='line'>  unfunction preexec
</span><span class='line'>  PS1='$ '
</span><span class='line'>fi</span></code></pre></td></tr></table></div></figure>


<p>参考：<a href="http://emacswiki.org/emacs/TrampMode#toc6">TrampMode Troubleshooting</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/edit-remote-file-with-emacs/">用Emacs远程编辑文件及相关笔记</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-02T10:16:00+00:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h4>Emacs编辑远程文件</h4>

<p>非常简单：<code>C-x C-f</code>后<code>/ssh:user@host#port:file</code></p>

<p>由此可以推出一个小技巧：</p>

<h4>Emacs编辑本地需要sudo的文件</h4>

<p><code>/ssh:root@locahost:file</code></p>

<p>过程中可能会遇到的问题：</p>

<ul>
<li><p>1<br/>
问题：<code>ssh: connect to host localhost port 22: Connection refused</code><br/>
原因：没装openssh-server<br/>
解决：安装即可</p></li>
<li><p>2<br/>
问题：<code>ssh root@localhost</code>并输入密码后报<code>permission denied</code><br/>
原因：发现直接用<code>su</code>也不行（之前一直都只是sudo），因为没设root密码<br/>
解决：<code>sudo passwd root</code><br/>
注：
<code>/etc/ssh/sshd_config</code>中有个参数<code>PermitRootLogin</code>需设置为<code>yes</code>。<br/>
虽然有安全问题，不过是本机，问题不大。<br/>
修改配置后需重启服务：<code>sudo /etc/init.d/ssh restart</code></p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/solve-bundle-install-problems/">Bundle Install时的一些灵异bug</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-02T13:12:00+00:00" pubdate data-updated="true">May 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>升级博客后，在另一台电脑上无法启动了。</p>

<h2>在新电脑上Octopress写博客时没法<code>$ bundle install</code></h2>

<h4>现象：</h4>

<p><code>$ bundle install</code>安装到fast-stemmer时报一大堆错，
无法继续。</p>

<h4>原因：</h4>

<p>不详，可能是rvm里的bundle没升级</p>

<h4>解决</h4>

<p>做了一通操作，不知怎么就好了。。。
其中包括：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm gem update</span></code></pre></td></tr></table></div></figure>


<p>不过我2次都引发了下面几个问题</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/solve-bundle-install-problems/">查看全文 &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/githug-cheat-sheet/">Githug通关全攻略</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-02T12:49:00+00:00" pubdate data-updated="true">May 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/Gazler/githug">Githug</a>将git的入门与游戏相结合，太有意思了。<br/>
游戏过程中少不了网上查找资料，man，难度4以后不停的hint。<br/>
通关后对git的了解又加深了许多。<br/>
取连接名时很是矛盾，写完博客后还是将链接中的walkthrough改为了cheat sheet。<br/>
希望大家不需要使用到这篇博客吧。</p>

<p>因关卡随时处于更新状态，可能会稍有不同<br/>
<del>&ndash; 最后更新时间2012-11-14</del><br/>
&ndash; 最后更新时间2013-05-17</p>

<h2>准备</h2>

<p>安装Githug：<code>$ gem install githug</code>。<br/>
安装完成后直接执行<code>$ githug</code>开始游戏，同一条命令进入下一关。<br/>
<code>$ githug hint</code>查看过关提示，<br/>
当操作错误无法过关时，可以<code>$ githug reset</code>重置当前关卡。</p>

<h2>开始</h2>

<h4>0</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>y</span></code></pre></td></tr></table></div></figure>


<h4>1 初始化git项目</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd git_hug
</span><span class='line'>$ git init</span></code></pre></td></tr></table></div></figure>


<h4>2 stage一个文件</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git add README</span></code></pre></td></tr></table></div></figure>


<h4>3 提交已stage的文件</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git commit -m '-'</span></code></pre></td></tr></table></div></figure>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/githug-cheat-sheet/">查看全文 &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/better-transparentize-mixin-for-sass/">Sass中通过mixin封装透明背景模块</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-01T22:51:00+00:00" pubdate data-updated="true">May 1<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>之前讲到过<a href="/blog/css-background-transparency/">CSS实现背景透明完美解决方案</a>，<br/>
在Sass里可以通过mixin将其封装起来。</p>

<h2>先回顾一下</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/* 白色背景,透明度0.6 */
</span><span class='line'>.alpha60 {
</span><span class='line'>  background: rgb(255, 255, 255);
</span><span class='line'>  background: rgba(255, 255, 255, 0.6);
</span><span class='line'>  background: transparent\9;
</span><span class='line'>  zoom: 1;
</span><span class='line'>  filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99ffffff, endColorstr=#99ffffff);
</span><span class='line'>  -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99ffffff, endColorstr=#99ffffff)";
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>分析</h2>

<p>需要做的工作有：<br/>
&ndash; 颜色和透明值应该通过参数传入<br/>
&ndash; 需要能计算出rgba值：<code>rgb(255, 255, 255)</code><br/>
&ndash; 需要计算出IE下的值<code>#99ffffff</code><br/>
&ndash; 封装成minix模块，以便调用</p>

<h2>过程</h2>

<p>Sass的文档不全，为了查找一些计算函数，我只好去源码里找。<br/>
开始想寻求的是一个转十六进制的方法，结果发现<code>ie_hex_str</code>已经实现了。<br/>
在这里贴段里面的实现代码，来看看Sass的计算功能：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># Sass
</span><span class='line'>alpha = (color.alpha * 255).round.to_s(16).rjust(2, '0')
</span><span class='line'># 等价于JS中的：
</span><span class='line'>Math.round(0.6 * 255).toString(16);</span></code></pre></td></tr></table></div></figure>


<p>最后的rjust方法，应该是空位补零。</p>

<p>非常有用的两个页面：
<a href="https://github.com/nex3/sass/blob/master/lib/sass/script/functions.rb">函数源码</a>，
<a href="http://sass-lang.com/try.html">在线调试Sass</a></p>

<h2>总结</h2>

<p>最终代码如下：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@mixin better_transparentize($color, $alpha)
</span><span class='line'>  $c: rgba($color, $alpha)
</span><span class='line'>  $ie_c: ie_hex_str($c)
</span><span class='line'>  background: rgba($color, 1)
</span><span class='line'>  background: $c
</span><span class='line'>  background: transparent\9
</span><span class='line'>  zoom: 1
</span><span class='line'>  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#{$ie_c}, endColorstr=#{$ie_c})
</span><span class='line'>  -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#{$ie_c}, endColorstr=#{$ie_c})"</span></code></pre></td></tr></table></div></figure>


<p>然后在需要的地方直接引用即可，如：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>.box
</span><span class='line'>  @include better_transparentize(white, .8)</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/bootstrap-bug-when-responsive-css-with-navbar-fixed-top/">Bootstrap使用响应式设计(Responsive Design)时导航条上部有空白的解决方案</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-07T17:32:00+00:00" pubdate data-updated="true">Mar 7<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h4>原因</h4>

<p>Bug出现需要同时满足以下3个条件:<br/>
&ndash; 顶部导航条navbar使用class<code>navbar-fixed-top</code><br/>
&ndash; 参考Bootstrap官方网站, 给body添加样式<code>padding-top: 60px;</code><br/>
&ndash; 使用响应式(Responsive design), 并且处在此状态下(默认为宽度&lt;=980时触发)</p>

<h4>解决方案1</h4>

<p>给此段样式加上条件</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@media (min-width: 981px) {
</span><span class='line'>    body {
</span><span class='line'>        padding-top: 60px;
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h4>解决方案2</h4>

<p>将bootstrap-responsive.css放在body样式之后</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;link href="../css/bootstrap.css" rel="stylesheet"&gt;
</span><span class='line'>&lt;style type="text/css"&gt;
</span><span class='line'>      body {
</span><span class='line'>        padding-top: 60px;
</span><span class='line'>      }
</span><span class='line'>&lt;/style&gt;
</span><span class='line'>&lt;link href="../css/bootstrap-responsive.css" rel="stylesheet"&gt;</span></code></pre></td></tr></table></div></figure>


<p>Rails3.2的Asset Pipeline就更方便了，放在import中即可（我用的是Sass）</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@import compass
</span><span class='line'>$baseFontSize: 15px
</span><span class='line'>@import compass_twitter_bootstrap
</span><span class='line'>body
</span><span class='line'>  padding-top: 60px
</span><span class='line'>@import compass_twitter_bootstrap_responsive</span></code></pre></td></tr></table></div></figure>


<h4>结论</h4>

<p>我在某项目中因为使用的是customize出来的单个css文件, 所以采用了解决方案1.<br/>
在另一RoR项目中考虑使用解决方案2.</p>

<h4>参考</h4>

<p><a href="https://github.com/twitter/bootstrap/issues/1570">navbar-fixed-top breaks when using responsive css</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/deploy-a-website-without-your-own-server/">将一切放在云端</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-25T00:17:00+00:00" pubdate data-updated="true">Feb 25<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>Github<br/>
Heroku<br/>
MongoHQ<br/>
UpYun<br/>
name.com</p></blockquote>

<p>一切在拖延症患者眼里都是障碍,
尤其是: 技术, 设计, 域名, 服务器.</p>

<h2>技术</h2>

<h4>语言</h4>

<p>一个想法在脑子里几年了,
首要问题是怎么做.<br/>
从Java, PHP, Ruby一路走来,
从Rails1, 2, 3, 中途好几次刚建好项目便放弃.<br/>
到今天的3.2.1, 看上去最佳解决方案已经出炉.
同时还要忍住去捯饬NodeJS的冲动.</p>

<p>数据库用MongoDB,
单是不用像MySQL一样migrate的特性,
就让我深深爱上它.</p>

<h4>前端代码模板很有意思.</h4>

<ul>
<li>HTML<br/>
先前流行的是HAML,
我也很喜欢它的格式.<br/>
不过这回还是玩玩SLiM吧,
虽然它的可读性不如前者.</li>
<li>CSS<br/>
三选一: SASS, SCSS, LESS.<br/>
选定SASS.
一是因为之前用过比较熟,
使用缩进的风格也是我喜欢的类型.<br/>
一直不明白后来要推出SCSS这种不伦不类的东西.<br/>
LESS偏向NodeJS系的, 以后有空再研究吧.</li>
<li>JS<br/>
CoffeeScript就先不考虑,
JS是我最擅长的部分,
就让我敲敲正常的代码吧.<br/>
自从用jQuery后我就很少写真正的JS了,
我恨jQuery!<br/>
另外, UJS被Rails放弃也给我留下了一定的心理阴影.</li>
</ul>


<h4>功能模块</h4>

<p>我不是个NB的程序员, 我最喜欢做的事是用别人的轮子.<br/>
与抄袭不同, 这一切都是开源的.<br/>
我懂得欣赏它们, 也知道该如何更好的去用, 这大概算是我的一个优点.</p>

<ul>
<li>jQuery<br/>
虽然我恨他, 但还是先用着吧.
怀念MooTools的日子.</li>
<li>Mongoid<br/>
Ruby里MongoDB的ODM(Object-Document-Mapper)框架.<br/>
MongoMapper和Mongoid我选择了后者.</li>
<li>devise<br/>
用户身份验证(Authentication)模块.</li>
<li>CarrierWave<br/>
Rails的文件上传模块.<br/>
其实Paperclip用的人更多, 不过不支持Mongoid.</li>
<li>图片处理<br/>
图片处理肯定离不开ImageMagick,
Ruby下的接口gem包有: RMagick和Mini magick.<br/>
不过这回我打算使用又拍云(UpYun)存储图片,
顺便就把图片处理也交给它做吧, 后面还会提到.</li>
</ul>


<h2>设计</h2>

<p>还好有Bootstrip,
有了它前期可以把更多的精力放在功能上.<br/>
轻量级的Blueprint也是一个很不错的选择.
上天赐给我一名设计师吧!</p>

<h2>域名</h2>

<p>额&hellip;<br/>
这个实在太重要了.<br/>
想了几年终于想到一个还不错的域名,
<a href="http://iaieye.com">iaieye.com</a>,
这也是最近比较有动力的原因.</p>

<h2>服务器</h2>

<p>没有自己服务器,
所以一切这么解决:<br/>
&ndash; 代码交给Github <br/>
Github就不介绍了, 最好, 没有之一. <br/>
需要注意的是免费版不能加私密项目.<br/>
国内最近有个GitCafe, 观望中.
&ndash; 项目放在Heroku<br/>
&ndash; 数据库用MongoHQ<br/>
免费16M, 先用着吧.
MongoLab免费240M,
不过我喜欢前者的Icon.<br/>
&ndash; 图片存到又拍云(UpYun)<br/>
前段时间才发现国内已经有一些云服务了.
又拍云的口碑不错, 还支持图片处理, 先用用看.<br/>
盛大云仿佛也不错, 有云主机和MongoIC,
不过备案是个大问题(有朋友推荐DNSPod来解决).</p>

<h2>笔记</h2>

<h4>配置文件里私密信息（尤其是密码不要进SVN）</h4>

<ul>
<li><p>用环境变量传递<br/>
如: <code>uri: &lt;%= ENV['USERNAME'] %&gt;</code></p></li>
<li><p>环境变量在Heroku里的设置<br/>
添加: <code>$ heroku config:add USERNAME=fancyoung PASSWORD=123456 ......</code><br/>
查看: <code>heroku config</code><br/>
UpYun需要通过此方式配置</p></li>
</ul>


<h4>MongoHQ配置</h4>

<p>修改配置文件: <code>config/mongoid.yml</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>...
</span><span class='line'>production:
</span><span class='line'>  uri: &lt;%= ENV['MONGOHQ_URL'] %&gt;
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>


<h4>发布到Heroku</h4>

<p><code>$ git push heroku master</code></p>

<h4>绑定自己的域名</h4>

<p><del>添加Heroku插件(Add-on): Custom Domain.</del><br/>
<del>Heroku里添加插件需要先用信用卡(需国际信用卡)认证.</del><br/>
(根据@joel 提醒，现在已可以直接设置，无需插件，<br/>
Custom Domains已打上REPLACED标记。)</p>

<p>配置过程中, 发现3个IP都ping不通, 发现是被墙. <br/>
最后用过设置CNAME的方式完成配置.</p>

<h2>参考</h2>

<p><a href="http://devcenter.heroku.com/articles/mongohq">Heroku绑定MongoHQ方法</a><br/>
<a href="http://devcenter.heroku.com/articles/custom-domains">用Heroku插件Custom Domain自定义域名</a><br/>
<a href="http://devcenter.heroku.com/articles/config-vars">配置Heroku上的变量</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>简介</h1>
  <p>我的技术博客</p>
  <p>o(∩_∩)o</p>
</section>
<section>
  <h1>常用链接</h1>
  <ul>
    <li>
      <a href="http://iaieye.com" target="_blank">IAIEYE-我的时间线网站</a>
    </li>
    <li>
      <a href="https://github.com/fancyoung/fancy-emacs/wiki/shortcut" target="_blank">Emacs快捷键</a>
    </li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/use-octopress-new-post-function-with-zsh/">Octopress在zsh下无法新建博客的问题</a>
      </li>
    
      <li class="post">
        <a href="/blog/arch-linux-reinstall-glibc/">Arch升级失败后修复glibc记录</a>
      </li>
    
      <li class="post">
        <a href="/blog/tmux-study/">Tmux使用</a>
      </li>
    
      <li class="post">
        <a href="/blog/emacs-tramp-hangs-bug-in-zsh/">解决Emacs远程连接时卡住的bug</a>
      </li>
    
      <li class="post">
        <a href="/blog/edit-remote-file-with-emacs/">用Emacs远程编辑文件及相关笔记</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/fancyoung">@fancyoung</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'fancyoung',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>技术博客</h1>
  <ul>
    <li>
      <a href="http://ejohn.org/">John Resig</a>
      <p>jQuery创始人</p>
    </li>
    <li>
      <a href="http://davidwalsh.name/">David Walsh Blog</a>
      <p>Mootools开发者</p>
    </li>
    <li>
      <a href="http://lifesinger.wordpress.com/">岁月如歌</a>
      <p>需翻墙</p>
    </li>
  </ul>
</section>
<section>
  <h1>其它博客</h1>
  <ul>
    <li>
      <a href="http://blog.sina.com.cn/twocold">韩寒</a>
    </li>
    <li>
      <a href="http://blog.sina.com.cn/fangzhouzi">方舟子</a>
    </li>
    <li>
      <a href="http://thisisdongdongqiang.com/">东东枪</a>
    </li>
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - 思扬 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'fancyoung';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
